 @model Cinema.Views.Cinema.IndexModel
@{
    ViewBag.Title = "Test";
}

<h1>Prenotazione biglietti</h1> 
<hr />

<form asp-action="Book" method="post" class="bg-light p-4">

    <div class="mb-2">
        <label>Nome:</label><br/>
       <input type="text" name="name" required /> 
    </div>
    <div class="mb-2">
        <label>Cognome:</label><br/>
         <input type="text" name="lastName" required />
        </div>

    <div class="mb-2">
        <label>Sala:</label><br/>
         <select name="room" required>
             <option>NORD</option>
            <option>EST</option>
            <option>SUD</option>
        </select>
    </div>
    <div class="mb-2">
        <label>Tipo Biglietto:</label><br/>
         <select name="type" required>
            <option>Ridotto</option>
            <option>Pieno</option>
        </select>
    </div>
<br/>
    <button type="submit" class="btn btn-primary rounded-0">Registra</button>
</form>

     <table class="table table-striped table-bordered text-center mt-4">
         <thead class="table-primary">
            <tr>
                <th>Sala</th>
                <th>Totali venduti</th>
                <th>Ridotti</th>
                <th>Rimanenti</th>
        </tr>
    </thead>

    @foreach (var r in Cinema.Models.DataCinema.RoomCapacity.Keys)
    {
        int total = Cinema.Models.DataCinema.GetTotalForRoom(r);     
        int reduced = Cinema.Models.DataCinema.GetReduced(r);
        int remaining = Cinema.Models.DataCinema.RoomCapacity[r] - total;

        <tr>
            <td>@r</td>
            <td>@total</td>
            <td>@reduced</td>
            <td>@remaining</td>
        </tr>
    }      
    </table>